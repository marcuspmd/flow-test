<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Flow Test Engine v2.0 - Documenta√ß√£o da API</h1>
<h2>Vis√£o Geral</h2>
<p>O Flow Test Engine v2.0 √© um motor completo de testes de API com suporte a execu√ß√£o baseada em diret√≥rios, vari√°veis globais e gerenciamento de testes baseado em prioridades.</p>
<h2>Arquitetura</h2>
<h3>Classes Principais</h3>
<h4><code>FlowTestEngine</code></h4>
<p>Motor principal respons√°vel por orquestrar todo o processo de execu√ß√£o de testes.</p>
<pre class="prettyprint source lang-typescript"><code>const engine = new FlowTestEngine('./config.yaml');
const result = await engine.run();
</code></pre>
<p><strong>Principais responsabilidades:</strong></p>
<ul>
<li>Descoberta de testes</li>
<li>Aplica√ß√£o de filtros</li>
<li>Ordena√ß√£o por prioridade</li>
<li>Execu√ß√£o coordenada</li>
<li>Gera√ß√£o de relat√≥rios</li>
</ul>
<h4><code>ConfigManager</code></h4>
<p>Gerenciador de configura√ß√£o que carrega e valida todas as configura√ß√µes do engine.</p>
<pre class="prettyprint source lang-typescript"><code>const configManager = new ConfigManager({
  config_file: './flow-test.config.yml',
  environment: 'staging',
  verbosity: 'verbose'
});
</code></pre>
<p><strong>Principais responsabilidades:</strong></p>
<ul>
<li>Carregamento de configura√ß√µes</li>
<li>Resolu√ß√£o de vari√°veis de ambiente</li>
<li>Aplica√ß√£o de sobrescritas de runtime</li>
</ul>
<h4><code>HttpService</code></h4>
<p>Servi√ßo HTTP respons√°vel por executar requisi√ß√µes e processar respostas.</p>
<pre class="prettyprint source lang-typescript"><code>const httpService = new HttpService('https://api.exemplo.com', 30000);
const result = await httpService.executeRequest('Login', requestDetails);
</code></pre>
<p><strong>Principais responsabilidades:</strong></p>
<ul>
<li>Execu√ß√£o de requisi√ß√µes HTTP</li>
<li>Medi√ß√£o de performance</li>
<li>Tratamento de erros</li>
<li>Normaliza√ß√£o de respostas</li>
</ul>
<h4><code>AssertionService</code></h4>
<p>Servi√ßo de valida√ß√£o de assertions em respostas HTTP.</p>
<pre class="prettyprint source lang-typescript"><code>const assertionService = new AssertionService();
const results = assertionService.validateAssertions(assertions, executionResult);
</code></pre>
<p><strong>Principais responsabilidades:</strong></p>
<ul>
<li>Valida√ß√£o de status codes</li>
<li>Valida√ß√£o de headers</li>
<li>Valida√ß√£o de body usando JMESPath</li>
<li>Valida√ß√£o de tempo de resposta</li>
</ul>
<h4><code>CaptureService</code></h4>
<p>Servi√ßo para captura de vari√°veis de respostas HTTP usando JMESPath.</p>
<pre class="prettyprint source lang-typescript"><code>const captureService = new CaptureService();
const captured = captureService.captureVariables({
  user_id: 'body.data.user.id',
  token: 'body.access_token'
}, executionResult);
</code></pre>
<p><strong>Principais responsabilidades:</strong></p>
<ul>
<li>Extra√ß√£o de dados usando JMESPath</li>
<li>Captura de vari√°veis para uso posterior</li>
<li>Formata√ß√£o de valores para logs</li>
</ul>
<h4><code>VariableService</code></h4>
<p>Servi√ßo de interpola√ß√£o e resolu√ß√£o de vari√°veis.</p>
<pre class="prettyprint source lang-typescript"><code>const variableService = new VariableService(variableContext);
const interpolated = variableService.interpolate('{{api_url}}/users/{{user_id}}');
</code></pre>
<p><strong>Principais responsabilidades:</strong></p>
<ul>
<li>Interpola√ß√£o de vari√°veis em templates</li>
<li>Resolu√ß√£o hier√°rquica de escopos</li>
<li>Suporte a nota√ß√£o de ponto para vari√°veis importadas</li>
</ul>
<h4><code>GlobalRegistryService</code></h4>
<p>Servi√ßo de registry global para vari√°veis exportadas entre flows.</p>
<pre class="prettyprint source lang-typescript"><code>const registry = new GlobalRegistryService();
registry.registerSuite('auth-suite', ['user_token', 'user_id'], './auth.yaml');
registry.setExportedVariable('auth-suite', 'user_token', 'abc123');
const token = registry.getExportedVariable('auth-suite.user_token');
</code></pre>
<p><strong>Principais responsabilidades:</strong></p>
<ul>
<li>Registro de su√≠tes e suas exporta√ß√µes</li>
<li>Compartilhamento de vari√°veis entre su√≠tes</li>
<li>Valida√ß√£o de integridade do registry</li>
</ul>
<h2>Tipos Principais</h2>
<h3><code>RequestDetails</code></h3>
<p>Define uma requisi√ß√£o HTTP completa.</p>
<pre class="prettyprint source lang-typescript"><code>interface RequestDetails {
  method: &quot;GET&quot; | &quot;POST&quot; | &quot;PUT&quot; | &quot;DELETE&quot; | &quot;PATCH&quot; | &quot;HEAD&quot; | &quot;OPTIONS&quot;;
  url: string;
  headers?: Record&lt;string, string>;
  body?: any;
  timeout?: number;
}
</code></pre>
<h3><code>Assertions</code></h3>
<p>Define valida√ß√µes para uma resposta HTTP.</p>
<pre class="prettyprint source lang-typescript"><code>interface Assertions {
  status_code?: number | AssertionChecks;
  body?: Record&lt;string, AssertionChecks>;
  headers?: Record&lt;string, AssertionChecks>;
  response_time_ms?: {
    less_than?: number;
    greater_than?: number;
  };
  custom?: Array&lt;{
    name: string;
    condition: string; // JMESPath expression
    message?: string;
  }>;
}
</code></pre>
<h3><code>AssertionChecks</code></h3>
<p>Operadores de valida√ß√£o para campos espec√≠ficos.</p>
<pre class="prettyprint source lang-typescript"><code>interface AssertionChecks {
  equals?: any;
  contains?: any;
  not_equals?: any;
  greater_than?: number;
  less_than?: number;
  regex?: string;
  exists?: boolean;
  type?: 'string' | 'number' | 'boolean' | 'object' | 'array';
  length?: {
    equals?: number;
    greater_than?: number;
    less_than?: number;
  };
}
</code></pre>
<h3><code>VariableContext</code></h3>
<p>Contexto hier√°rquico de vari√°veis.</p>
<pre class="prettyprint source lang-typescript"><code>interface VariableContext {
  global: Record&lt;string, any>;
  imported: Record&lt;string, Record&lt;string, any>>; // flow_name -> variables
  suite: Record&lt;string, any>;
  runtime: Record&lt;string, any>;
}
</code></pre>
<h2>Fun√ß√µes de Conveni√™ncia</h2>
<h3><code>createEngine(configPath?: string)</code></h3>
<p>Cria uma inst√¢ncia do engine com configura√ß√£o m√≠nima.</p>
<pre class="prettyprint source lang-typescript"><code>const engine = createEngine('./my-config.yml');
const result = await engine.run();
</code></pre>
<h3><code>runTests(configPath?: string)</code></h3>
<p>Execu√ß√£o one-shot de todos os testes.</p>
<pre class="prettyprint source lang-typescript"><code>const result = await runTests('./config.yml');
console.log(`Success rate: ${result.success_rate}%`);
</code></pre>
<h3><code>planTests(configPath?: string)</code></h3>
<p>Dry-run para planejamento e valida√ß√£o de configura√ß√£o.</p>
<pre class="prettyprint source lang-typescript"><code>const plan = await planTests('./config.yml');
console.log(`Found ${plan.total_tests} tests to execute`);
</code></pre>
<h2>Exemplo de Uso Completo</h2>
<pre class="prettyprint source lang-typescript"><code>import { FlowTestEngine, EngineExecutionOptions } from 'flow-test-engine';

// Configura√ß√£o avan√ßada com hooks
const options: EngineExecutionOptions = {
  config_file: './flow-test.config.yml',
  test_directory: './tests',
  environment: 'staging',
  verbosity: 'detailed',
  filters: {
    priorities: ['critical', 'high'],
    suite_names: ['auth', 'checkout']
  }
};

const hooks = {
  onExecutionStart: (stats) => {
    console.log(`üöÄ Starting execution of ${stats.tests_discovered} test(s)`);
  },
  onTestDiscovered: (test) => {
    console.log(`üìã Discovered: ${test.suite_name} (${test.priority})`);
  },
  onExecutionEnd: (result) => {
    console.log(`‚úÖ Completed with ${result.success_rate}% success rate`);
  },
  onError: (error) => {
    console.error(`‚ùå Error: ${error.message}`);
  }
};

// Criar e executar engine
const engine = new FlowTestEngine(options, hooks);

try {
  const result = await engine.run();

  if (result.failed_tests > 0) {
    console.log(`‚ùå ${result.failed_tests} test(s) failed`);
    process.exit(1);
  }

  console.log(`‚úÖ All tests passed! (${result.successful_tests}/${result.total_tests})`);
} catch (error) {
  console.error('Execution failed:', error);
  process.exit(1);
}
</code></pre>
<h2>CLI Usage</h2>
<pre class="prettyprint source lang-bash"><code># Execu√ß√£o b√°sica
flow-test

# Com arquivo de configura√ß√£o espec√≠fico
flow-test -c ./config/prod.yml

# Com filtros
flow-test --priority high,critical --verbose

# Dry run para planejar execu√ß√£o
flow-test --dry-run --detailed

# Execu√ß√£o silenciosa para CI/CD
flow-test --environment production --silent
</code></pre>
<h2>Estrutura de Arquivos de Teste</h2>
<pre class="prettyprint source lang-yaml"><code>suite_name: &quot;Login Flow&quot;
description: &quot;Testes de autentica√ß√£o de usu√°rio&quot;
base_url: &quot;https://api.example.com&quot;

variables:
  test_user: &quot;user@example.com&quot;
  test_password: &quot;password123&quot;

imports:
  - name: &quot;common&quot;
    path: &quot;./common.yaml&quot;
    variables:
      api_version: &quot;v2&quot;

steps:
  - name: &quot;Login&quot;
    request:
      method: POST
      url: &quot;/auth/login&quot;
      headers:
        Content-Type: &quot;application/json&quot;
      body:
        email: &quot;{{test_user}}&quot;
        password: &quot;{{test_password}}&quot;
    assert:
      status_code: 200
      body:
        success:
          equals: true
        token:
          type: string
          exists: true
    capture:
      auth_token: &quot;body.token&quot;
      user_id: &quot;body.user.id&quot;

  - name: &quot;Verify Token&quot;
    request:
      method: GET
      url: &quot;/auth/verify&quot;
      headers:
        Authorization: &quot;Bearer {{auth_token}}&quot;
    assert:
      status_code: 200
      body:
        valid:
          equals: true

exports:
  - auth_token
  - user_id
</code></pre>
<p>Esta documenta√ß√£o fornece uma vis√£o completa da API e arquitetura do Flow Test Engine v2.0.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#PACKAGE_INFO">PACKAGE_INFO</a></li><li><a href="global.html#VERSION">VERSION</a></li><li><a href="global.html#__awaiter">__awaiter</a></li><li><a href="global.html#__createBinding">__createBinding</a></li><li><a href="global.html#createEngine">createEngine</a></li><li><a href="global.html#main">main</a></li><li><a href="global.html#planTests">planTests</a></li><li><a href="global.html#printHelp">printHelp</a></li><li><a href="global.html#runTests">runTests</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Tue Sep 09 2025 22:08:47 GMT-0300 (Hor√°rio Padr√£o de Bras√≠lia)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>