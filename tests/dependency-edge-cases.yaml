suite_name: "dependency-edge-cases"
node_id: "dependency_edge_cases"
description: "Test edge cases for dependency system"

# Test case: Missing dependency (should warn but continue with required: false)
depends:
  - node_id: "non_existent_node"
    required: false

# Test case 3: Export without dependency
exports:
  - "test_value"
  - "computed_result"

variables:
  test_value: "edge-case-value"
  api_url: "{{httpbin_url}}"

steps:
  - name: "Test basic functionality"
    request:
      method: GET
      url: "{{api_url}}/get"

    assertions:
      - type: status_code
        expected: 200

    capture:
      computed_result: "response.json.url"
      test_value: "'edge-case-value'"  # Captura o valor est√°tico

  - name: "Verify exported variables are set"
    request:
      method: GET
      url: "{{api_url}}/get?test={{test_value}}&result={{computed_result}}"

    assertions:
      - type: status_code
        expected: 200
      - type: body
        path: "args.test"
        expected: "{{test_value}}"