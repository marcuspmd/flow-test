suite_name: "Test External Script File"
node_id: "test-script-file"
base_url: "https://httpbin.org"

variables:
  username: "external_test_user"
  api_key: "secret_key_123"

steps:
  - name: "Test loading script from file"
    pre_request:
      script_file: "./scripts/auth-script.js"
      timeout: 5000
      continue_on_error: false

    request:
      method: POST
      url: "/post"
      headers:
        Content-Type: "application/json"
      body:
        message: "Testing external script"

    assert:
      status_code: 200

    capture:
      response_headers: "body.json.headers"
