---
import AdminLayout from "../layouts/AdminLayout.astro";
import { loadReportData } from "../services/dataLoader";
import LiveRuns from "../components/live/LiveRuns";

const reportData = await loadReportData();
---

<AdminLayout title="Execução em Tempo Real" reportData={reportData}>
  <section class="mb-6">
    <div class="bg-base-100 shadow-xl rounded-2xl p-6 border border-base-200">
      <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
        <div>
          <h1 class="text-3xl font-bold flex items-center gap-3">
            <span>⏱️</span>
            Monitoramento ao vivo
          </h1>
          <p class="mt-2 text-base-content/70 max-w-3xl">
            Acompanhe execuções em tempo real através do Flow Test Orchestrator. Dispare novos runs,
            monitore o progresso, visualize a timeline de eventos e faça retry diretamente pelo dashboard.
          </p>
        </div>
        <div class="badge badge-lg badge-outline">
          Beta
        </div>
      </div>
    </div>
  </section>

  <section>
    <LiveRuns client:only="react" />
  </section>
</AdminLayout>
